"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[98],{98:function(e,o,t){t.r(o),t.d(o,{default:function(){return i}});var l=t(3396),r=t(7139);function n(e,o,t,n,m,d){const a=(0,l.up)("el-button"),p=(0,l.up)("el-link"),i=(0,l.up)("el-table-column"),c=(0,l.up)("el-table"),u=(0,l.up)("el-input"),s=(0,l.up)("el-form-item"),j=(0,l.up)("el-form"),C=(0,l.up)("el-dialog"),h=(0,l.up)("el-option"),w=(0,l.up)("el-select"),g=(0,l.up)("el-drawer");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Uk)(" 项目管理 "),(0,l.Wm)(a,{onClick:d.createProj},{default:(0,l.w5)((()=>[(0,l.Uk)("新增项目")])),_:1},8,["onClick"]),(0,l.Wm)(c,{data:m.projectList,onRowDblclick:d.showModuleList},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{prop:"projectName",label:"项目名称"},{default:(0,l.w5)((e=>[(0,l.Wm)(p,{type:"primary",onClick:o=>d.editProject(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.row.projectName),1)])),_:2},1032,["onClick"])])),_:1}),(0,l.Wm)(i,{prop:"projectCode",label:"项目编码"}),(0,l.Wm)(i,{prop:"baseUrl",label:"项目基本路径"}),(0,l.Wm)(i,{prop:"createTime",label:"创建时间"}),(0,l.Wm)(i,{prop:"id",label:"操作"},{default:(0,l.w5)((e=>[(0,l.Wm)(a,{onClick:o=>d.delProject(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除项目")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onRowDblclick"]),(0,l.Wm)(C,{modelValue:m.projFormDialogModel,"onUpdate:modelValue":o[3]||(o[3]=e=>m.projFormDialogModel=e),onOpen:d.openProjFormDialog,onClose:d.closeProjFormDialog,title:"项目表单",width:"60%","align-center":"","append-to-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{model:m.projectForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{label:"项目名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectForm.projectName,"onUpdate:modelValue":o[0]||(o[0]=e=>m.projectForm.projectName=e)},null,8,["modelValue"])])),_:1}),m.projectForm.id?((0,l.wg)(),(0,l.j4)(s,{key:0,label:"项目编码"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectForm.projectCode,"onUpdate:modelValue":o[1]||(o[1]=e=>m.projectForm.projectCode=e),disabled:""},null,8,["modelValue"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(s,{label:"项目基本地址"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectForm.baseUrl,"onUpdate:modelValue":o[2]||(o[2]=e=>m.projectForm.baseUrl=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a,{onClick:d.submitProj},{default:(0,l.w5)((()=>[(0,l.Uk)("提交")])),_:1},8,["onClick"]),(0,l.Wm)(a,{onClick:d.cancelProj},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onOpen","onClose"]),(0,l.Wm)(C,{modelValue:m.moduleListDialog,"onUpdate:modelValue":o[4]||(o[4]=e=>m.moduleListDialog=e),title:"模块列表",width:"80%","align-center":"","append-to-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{onClick:d.addProjectModules},{default:(0,l.w5)((()=>[(0,l.Uk)("新增模块")])),_:1},8,["onClick"]),(0,l.Wm)(c,{data:m.moduleList,onRowDblclick:d.showComponentList},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{prop:"id",label:"id"}),(0,l.Wm)(i,{prop:"moduleName",label:"模块名称"},{default:(0,l.w5)((e=>[(0,l.Wm)(p,{onClick:o=>d.editProjectModule(e.row),type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.row.moduleName),1)])),_:2},1032,["onClick"])])),_:1}),(0,l.Wm)(i,{prop:"moduleCode",label:"模块编码"}),(0,l.Wm)(i,{prop:"modulePath",label:"模块地址"}),(0,l.Wm)(i,{prop:"javaPackage",label:"java代码地址"}),(0,l.Wm)(i,{prop:"resourcePackage",label:"配置文件代码地址"}),(0,l.Wm)(i,{prop:"frontPackage",label:"前端代码地址"}),(0,l.Wm)(i,{prop:"createTime",label:"创建时间"}),(0,l.Wm)(i,{prop:"id",label:"操作"},{default:(0,l.w5)((e=>[(0,l.Wm)(a,{onClick:o=>d.delProjectModule(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onRowDblclick"])])),_:1},8,["modelValue"]),(0,l.Wm)(C,{modelValue:m.projectModuleFormDialogModel,"onUpdate:modelValue":o[12]||(o[12]=e=>m.projectModuleFormDialogModel=e),onClose:d.closeProjModuleFormDialog,title:"模块表单",width:"100%","align-center":"","append-to-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{model:m.projectModuleForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{label:"项目编码"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectModuleForm.projectCode,"onUpdate:modelValue":o[5]||(o[5]=e=>m.projectModuleForm.projectCode=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"模块名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectModuleForm.moduleName,"onUpdate:modelValue":o[6]||(o[6]=e=>m.projectModuleForm.moduleName=e)},null,8,["modelValue"])])),_:1}),m.projectModuleForm.id?((0,l.wg)(),(0,l.j4)(s,{key:0,label:"模块编码"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectModuleForm.moduleCode,"onUpdate:modelValue":o[7]||(o[7]=e=>m.projectModuleForm.moduleCode=e),disabled:""},null,8,["modelValue"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(s,{label:"模块地址"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectModuleForm.modulePath,"onUpdate:modelValue":o[8]||(o[8]=e=>m.projectModuleForm.modulePath=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"java代码地址"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectModuleForm.javaPackage,"onUpdate:modelValue":o[9]||(o[9]=e=>m.projectModuleForm.javaPackage=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"配置文件代码地址"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectModuleForm.resourcePackage,"onUpdate:modelValue":o[10]||(o[10]=e=>m.projectModuleForm.resourcePackage=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"前端代码地址"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectModuleForm.frontPackage,"onUpdate:modelValue":o[11]||(o[11]=e=>m.projectModuleForm.frontPackage=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a,{onClick:d.submitProjModule},{default:(0,l.w5)((()=>[(0,l.Uk)("提交")])),_:1},8,["onClick"]),(0,l.Wm)(a,{onClick:d.cancelProjModule},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onClose"]),(0,l.Wm)(g,{modelValue:m.componentDrawer,"onUpdate:modelValue":o[19]||(o[19]=e=>m.componentDrawer=e),title:"组件抽屉",size:"60%"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(a,{onClick:d.addProjComponent},{default:(0,l.w5)((()=>[(0,l.Uk)("新增组件")])),_:1},8,["onClick"]),(0,l.Wm)(c,{data:m.componentList},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{prop:"id",label:"id"}),(0,l.Wm)(i,{prop:"componentName",label:"组件名称"},{default:(0,l.w5)((e=>[(0,l.Wm)(p,{type:"primary",onClick:o=>d.editProjComponent(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.row.componentName),1)])),_:2},1032,["onClick"])])),_:1}),(0,l.Wm)(i,{prop:"componentCode",label:"组件编码"}),(0,l.Wm)(i,{prop:"componentFlag",label:"组件标识"}),(0,l.Wm)(i,{prop:"relyComponentName",label:"依赖组件"}),(0,l.Wm)(i,{prop:"createTime",label:"创建时间"}),(0,l.Wm)(i,{prop:"id",label:"操作"},{default:(0,l.w5)((e=>[(0,l.Wm)(a,{onClick:o=>d.editProjComponent(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"]),(0,l.Wm)(a,{onClick:o=>d.delProjComponent(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,l.Wm)(g,{modelValue:m.componentInnerDrawer,"onUpdate:modelValue":o[18]||(o[18]=e=>m.componentInnerDrawer=e),title:m.componentInnerDrawerTitle,"append-to-body":!0,onOpen:d.openComponentInnerDrawer,onClose:d.closeComponentInnerDrawer},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(j,{model:m.projectComponentForm,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{label:"模块编码"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectComponentForm.moduleCode,"onUpdate:modelValue":o[13]||(o[13]=e=>m.projectComponentForm.moduleCode=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"组件名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectComponentForm.componentName,"onUpdate:modelValue":o[14]||(o[14]=e=>m.projectComponentForm.componentName=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"组件编码"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectComponentForm.componentCode,"onUpdate:modelValue":o[15]||(o[15]=e=>m.projectComponentForm.componentCode=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"组件标识"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:m.projectComponentForm.componentFlag,"onUpdate:modelValue":o[16]||(o[16]=e=>m.projectComponentForm.componentFlag=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{label:"依赖组件"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{modelValue:m.projectComponentForm.relyComponent,"onUpdate:modelValue":o[17]||(o[17]=e=>m.projectComponentForm.relyComponent=e),filterable:"",placeholder:"请选择依赖组件"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.componentChooseList,(e=>((0,l.wg)(),(0,l.j4)(h,{key:e.componentCode,label:e.componentName,value:e.componentCode},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a,{onClick:d.submitProjComponent},{default:(0,l.w5)((()=>[(0,l.Uk)("提交")])),_:1},8,["onClick"]),(0,l.Wm)(a,{onClick:d.cancelProjComponent},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title","onOpen","onClose"])])])),_:1},8,["modelValue"])])}t(7658);var m=t(1394),d={name:"menuIndex",data(){return{projFormDialogModel:!1,projectList:[],projectForm:{projectName:"",projectCode:"",baseUrl:""},projectCode:"",moduleListDialog:!1,moduleList:[],projectModuleFormDialogModel:!1,projectModuleForm:{projectCode:"",projectName:"",moduleCode:"",moduleName:"",modulePath:"",javaPackage:"",resourcePackage:"",frontPackage:""},moduleCode:"",componentDrawer:!1,componentList:[],componentChooseList:[],componentInnerDrawer:!1,componentInnerDrawerTitle:"新增组件抽屉",projectComponentForm:{moduleCode:"",componentName:"",componentCode:"",componentFlag:"",relyComponent:""}}},created(){this.getProjectList()},methods:{submitProj:function(){let e=JSON.parse(JSON.stringify(this.projectForm));e.id?(0,m.updateProject)(e).then((e=>{"0000"==e.resCode?(this.projFormDialogModel=!1,this.getProjectList()):this.$message.error(e.resMsg)})):(0,m.addProject)(e).then((e=>{"0000"==e.resCode?(this.projFormDialogModel=!1,this.getProjectList()):this.$message.error(e.resMsg)}))},cancelProj:function(){this.projFormDialogModel=!1},openProjFormDialog:function(){},getProjectList:function(){(0,m.projectList)().then((e=>{"0000"==e.resCode?this.projectList=e.projectList:this.$message.error(e.resMsg)}))},editProject:function(e){this.projectForm=e,this.projFormDialogModel=!0},showModuleList:function(e,o,t){this.projectCode=e.projectCode,this.projModulesList(e.projectCode),this.moduleListDialog=!0},projModulesList:function(e){(0,m.projModulesList)({projectCode:e}).then((e=>{"0000"==e.resCode?this.moduleList=e.list:this.$message.error(e.resMsg)}))},addProjectModules:function(){this.projectModuleForm.projectCode=this.projectCode,this.projectModuleFormDialogModel=!0},submitProjModule:function(){this.projectModuleForm.id?(0,m.updProjectModule)(this.projectModuleForm).then((e=>{"0000"==e.resCode?(this.projectModuleFormDialogModel=!1,this.projModulesList(this.projectCode)):this.$message.error(e.resMsg)})):(0,m.addProjectModule)(this.projectModuleForm).then((e=>{"0000"==e.resCode?(this.projectModuleFormDialogModel=!1,this.projModulesList(this.projectCode)):this.$message.error(e.resMsg)}))},cancelProjModule:function(e){this.projectModuleFormDialogModel=!1},editProjectModule:function(e){this.projectModuleForm.id=e.id,this.projectModuleForm.projectCode=e.projectCode,this.projectModuleForm.moduleName=e.moduleName,this.projectModuleForm.moduleCode=e.moduleCode,this.projectModuleForm.modulePath=e.modulePath,this.projectModuleForm.javaPackage=e.javaPackage,this.projectModuleForm.resourcePackage=e.resourcePackage,this.projectModuleForm.frontPackage=e.frontPackage,this.projectModuleForm.createTime=e.createTime,this.projectModuleFormDialogModel=!0},delProjectModule:function(e){this.projectModuleForm.id=e.id,(0,m.delProjectModule)(this.projectModuleForm).then((e=>{"0000"==e.resCode?(this.projectModuleFormDialogModel=!1,this.getProjectList()):this.$message.error(e.resMsg)}))},closeProjModuleFormDialog:function(){this.projectModuleForm={projectCode:"",projectName:"",moduleCode:"",moduleName:"",mudulePath:"",javaPackage:"",resourcePackage:"",frontPackage:""}},showComponentList:function(e,o,t){this.moduleCode=e.moduleCode,this.getComponentList(),this.componentDrawer=!0},getComponentList:function(){(0,m.projectComponentList)({moduleCode:this.moduleCode}).then((e=>{"0000"==e.resCode?this.componentList=e.list:this.$message.error(e.resMsg)}))},addProjComponent:function(){this.componentInnerDrawer=!0,this.projectComponentForm.moduleCode=this.moduleCode,this.componentInnerDrawerTitle="新增组件"},editProjComponent:function(e){this.componentChooseList=[{componentCode:"",componentName:"空"},...this.componentList.filter((o=>o.componentCode!=e.componentCode))],this.projectComponentForm.moduleCode=this.moduleCode,this.projectComponentForm.id=e.id,this.projectComponentForm.componentName=e.componentName,this.projectComponentForm.componentCode=e.componentCode,this.projectComponentForm.componentFlag=e.componentFlag,this.projectComponentForm.relyComponent=e.relyComponent,this.componentInnerDrawerTitle="修改组件",this.componentInnerDrawer=!0},submitProjComponent:function(){this.projectComponentForm.id?(0,m.updProjectComponent)(this.projectComponentForm).then((e=>{"0000"==e.resCode?(this.componentInnerDrawer=!1,this.getComponentList()):this.$message.error(e.resMsg)})):(0,m.addProjectComponent)(this.projectComponentForm).then((e=>{"0000"==e.resCode?(this.componentInnerDrawer=!1,this.getComponentList()):this.$message.error(e.resMsg)}))},cancelProjComponent:function(){this.componentInnerDrawer=!1},delProjComponent:function(e){(0,m.delProjectComponent)({id:e.id}).then((e=>{"0000"==e.resCode?(this.componentInnerDrawer=!1,this.getComponentList()):this.$message.error(e.resMsg)}))},openComponentInnerDrawer:function(){console.log("open")},closeComponentInnerDrawer:function(){this.projectComponentForm={moduleCode:this.moduleCode,componentName:"",componentCode:"",componentFlag:"",relyComponent:""}},createProj:function(){this.projFormDialogModel=!0,(!this.dbList||this.dbList.length<1)&&this.getDbList()},closeProjFormDialog:function(){this.projectForm={projectName:"",baseUrl:"",dbList:[]}},dbChange:function(e){for(let o=0;o<this.dbList.length;o++)e!=this.dbList[o].id||this.dbContain(this.dbList[o])||this.projectForm.dbList.push(this.dbList[o]);this.dbDrawer=!1},dbContain:function(e){for(let o=0;o<this.projectForm.dbList.length;o++)if(e.id==this.projectForm.dbList[o].id)return!0;return!1},showProject:function(e){},delProject:function(e){(0,m.delProject)(JSON.parse(JSON.stringify(e))).then((e=>{"0000"==e.resCode?(this.projFormDialogModel=!1,this.getProjectList()):this.$message.error(e.resMsg)}))}}},a=t(89);const p=(0,a.Z)(d,[["render",n]]);var i=p}}]);
//# sourceMappingURL=98.77391d1a.js.map