"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[798],{9798:function(e,l,t){t.r(l),t.d(l,{default:function(){return d}});var a=t(3396),i=t(7139);function o(e,l,t,o,r,n){const m=(0,a.up)("el-button"),c=(0,a.up)("el-table-column"),d=(0,a.up)("el-table"),g=(0,a.up)("el-input"),s=(0,a.up)("el-form-item"),u=(0,a.up)("el-form"),P=(0,a.up)("el-dialog"),y=(0,a.up)("el-option"),p=(0,a.up)("el-select");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Uk)(" 代码生成策略 1、生成对象 1、新增生成对象，设置生成名称，生成路径 2、对象匹配模板 3、点击生成策略 "),(0,a.Wm)(m,{onClick:n.addGeneratePolicy},{default:(0,a.w5)((()=>[(0,a.Uk)("新增策略")])),_:1},8,["onClick"]),(0,a.Wm)(d,{data:r.generatePolicyList,onRowDblclick:n.showGeneratePolicyDetail},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{prop:"id",label:"id"}),(0,a.Wm)(c,{prop:"policyName",label:"策略名称"}),(0,a.Wm)(c,{prop:"createTime",label:"创建时间"}),(0,a.Wm)(c,{label:"操作"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{onClick:l=>n.delGeneratePolicy(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onRowDblclick"]),(0,a.Wm)(P,{modelValue:r.generatePolicyDialog,"onUpdate:modelValue":l[1]||(l[1]=e=>r.generatePolicyDialog=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{model:r.generatePolicyForm,"label-width":"20%"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"策略名称"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:r.generatePolicyForm.policyName,"onUpdate:modelValue":l[0]||(l[0]=e=>r.generatePolicyForm.policyName=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{onClick:n.submitGeneratePolicy},{default:(0,a.w5)((()=>[(0,a.Uk)("提交")])),_:1},8,["onClick"]),(0,a.Wm)(m,{onClick:n.cancelGeneratePolicy},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.Wm)(P,{modelValue:r.generatePolicyDetailListDialog,"onUpdate:modelValue":l[2]||(l[2]=e=>r.generatePolicyDetailListDialog=e),width:"90%"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{onClick:n.addGeneratePolicyDetail},{default:(0,a.w5)((()=>[(0,a.Uk)("新增策略文件")])),_:1},8,["onClick"]),(0,a.Wm)(d,{data:r.generatePolicyDetailList},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{prop:"id",label:"id"}),(0,a.Wm)(c,{prop:"policyId",label:"policyId"}),(0,a.Wm)(c,{prop:"nickName",label:"策略名称"}),(0,a.Wm)(c,{prop:"generateName",label:"文件匹配名称"}),(0,a.Wm)(c,{prop:"generateSrcPath",label:"源文件夹"}),(0,a.Wm)(c,{prop:"generateRelativePath",label:"相对路径"}),(0,a.Wm)(c,{prop:"generateFilesuffix",label:"文件后缀"}),(0,a.Wm)(c,{prop:"importRule",label:"规则标识"}),(0,a.Wm)(c,{prop:"templateId",label:"templateId"}),(0,a.Wm)(c,{prop:"templateName",label:"模板名称"}),(0,a.Wm)(c,{prop:"createTime",label:"createTime"}),(0,a.Wm)(c,{prop:"id",label:"操作"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{onClick:l=>n.updPolicyDetail(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("编辑")])),_:2},1032,["onClick"]),(0,a.Wm)(m,{onClick:l=>n.delPolicyDetail(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1},8,["modelValue"]),(0,a.Wm)(P,{modelValue:r.generatePolicyDetailDialog,"onUpdate:modelValue":l[10]||(l[10]=e=>r.generatePolicyDetailDialog=e),onOpen:n.generatePolicyDetailDialogOpen},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{model:r.generatePolicyDetailForm,"label-width":"20%"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"策略文件昵称"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:r.generatePolicyDetailForm.nickName,"onUpdate:modelValue":l[3]||(l[3]=e=>r.generatePolicyDetailForm.nickName=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"文件匹配名称"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:r.generatePolicyDetailForm.generateName,"onUpdate:modelValue":l[4]||(l[4]=e=>r.generatePolicyDetailForm.generateName=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"生成文件源文件夹"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:r.generatePolicyDetailForm.generateSrcPath,"onUpdate:modelValue":l[5]||(l[5]=e=>r.generatePolicyDetailForm.generateSrcPath=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"生成文件相对路径"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:r.generatePolicyDetailForm.generateRelativePath,"onUpdate:modelValue":l[6]||(l[6]=e=>r.generatePolicyDetailForm.generateRelativePath=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"规则标识"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:r.generatePolicyDetailForm.importRule,"onUpdate:modelValue":l[7]||(l[7]=e=>r.generatePolicyDetailForm.importRule=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"文件类型"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:r.generatePolicyDetailForm.generateFilesuffix,"onUpdate:modelValue":l[8]||(l[8]=e=>r.generatePolicyDetailForm.generateFilesuffix=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"关联模板"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{modelValue:r.templateId,"onUpdate:modelValue":l[9]||(l[9]=e=>r.templateId=e),placeholder:"选择模板"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.templateList,(e=>((0,a.wg)(),(0,a.j4)(y,{key:e.templateId,lable:e.templateName,value:e.templateId},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,i.zw)(e.templateName),1)])),_:2},1032,["lable","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{onClick:n.submitGeneratePolicyDetail},{default:(0,a.w5)((()=>[(0,a.Uk)("提交")])),_:1},8,["onClick"]),(0,a.Wm)(m,{onClick:n.cancelGeneratePolicyDetail},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onOpen"])])}var r=t(1394),n={name:"dbCreateStrategy",data(){return{generatePolicyId:"",templateId:"",generatePolicyDialog:!1,generatePolicyDetailListDialog:!1,generatePolicyDetailDialog:!1,generatePolicyList:[],generatePolicyDetailList:[],generatePolicyForm:{},generatePolicyDetailForm:{},templateList:[]}},created(){this.getgeneratePolicyList()},methods:{getgeneratePolicyList:function(){(0,r.generatePolicyList)({}).then((e=>{"0000"==e.resCode?this.generatePolicyList=e.generatePolicyList:this.$message.error(e.resMsg)}))},addGeneratePolicy:function(){this.loadTemplateList(),this.generatePolicyDialog=!0},submitGeneratePolicy:function(){(0,r.addGeneratePolicy)(this.generatePolicyForm).then((e=>{"0000"==e.resCode?(this.generatePolicyDialog=!1,this.getgeneratePolicyList()):this.$message.error(e.resMsg)}))},cancelGeneratePolicy:function(){this.generatePolicyDialog=!1},delGeneratePolicy:function(e){(0,r.delGeneratePolicy)(e).then((e=>{"0000"==e.resCode?(this.generatePolicyDetailDialog=!1,this.getgeneratePolicyList()):this.$message.error(e.resMsg)}))},loadTemplateList:function(){this.templateList&&this.templateList.length>0||(0,r.templateList)({}).then((e=>{"0000"==e.resCode?this.templateList=e.templateList:this.$message.error(e.resMsg)}))},showGeneratePolicyDetail:function(e,l,t){this.generatePolicyId=e.id,this.getGeneratePolicyDetailList(),this.generatePolicyDetailListDialog=!0},getGeneratePolicyDetailList:function(){(0,r.generatePolicyDetailList)({policyId:this.generatePolicyId}).then((e=>{"0000"==e.resCode?this.generatePolicyDetailList=e.generatePolicyDetailList:this.$message.error(e.resMsg)}))},addGeneratePolicyDetail:function(){this.generatePolicyDetailDialog=!0},submitGeneratePolicyDetail:function(){if(this.generatePolicyDetailForm.id)(0,r.updGeneratePolicyDetail)(this.generatePolicyDetailForm).then((e=>{"0000"==e.resCode?(this.generatePolicyDetailDialog=!1,this.getGeneratePolicyDetailList()):this.$message.error(e.resMsg)}));else{let e={policyId:this.generatePolicyId,nickName:this.generatePolicyDetailForm.nickName,generateSrcPath:this.generatePolicyDetailForm.generateSrcPath,generateRelativePath:this.generatePolicyDetailForm.generateRelativePath,generateFilesuffix:this.generatePolicyDetailForm.generateFilesuffix,importRule:this.generatePolicyDetailForm.importRule,templateId:this.templateId};(0,r.addGeneratePolicyDetail)(e).then((e=>{"0000"==e.resCode?(this.generatePolicyDetailDialog=!1,this.getGeneratePolicyDetailList()):this.$message.error(e.resMsg)}))}},cancelGeneratePolicyDetail:function(){},generatePolicyDetailDialogOpen:function(){this.loadTemplateList()},delPolicyDetail:function(e){(0,r.delGeneratePolicyDetail)({policyId:this.generatePolicyId,policyDetailId:e.id}).then((e=>{"0000"==e.resCode?this.getGeneratePolicyDetailList():this.$message.error(e.resMsg)}))},updPolicyDetail:function(e){this.generatePolicyDetailForm.id=e.id,this.generatePolicyDetailForm.policyId=e.policyId,this.generatePolicyDetailForm.nickName=e.nickName,this.generatePolicyDetailForm.generateName=e.generateName,this.generatePolicyDetailForm.generateSrcPath=e.generateSrcPath,this.generatePolicyDetailForm.generateRelativePath=e.generateRelativePath,this.generatePolicyDetailForm.generateFilesuffix=e.generateFilesuffix,this.generatePolicyDetailForm.templateId=e.templateId,this.generatePolicyDetailForm.templateName=e.templateName,this.templateId=e.templateId,this.generatePolicyDetailDialog=!0}}},m=t(89);const c=(0,m.Z)(n,[["render",o]]);var d=c}}]);
//# sourceMappingURL=798.9f6a700e.js.map