"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[144],{6144:function(e,t,l){l.r(t),l.d(t,{default:function(){return n}});var a=l(3396),i=l(7139);function m(e,t,l,m,o,d){const p=(0,a.up)("el-button"),s=(0,a.up)("el-table-column"),n=(0,a.up)("el-table"),u=(0,a.up)("el-input"),r=(0,a.up)("el-form-item"),h=(0,a.up)("el-form"),c=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Uk)(" 模板模块 "),(0,a.Wm)(p,{onClick:d.createTemplate},{default:(0,a.w5)((()=>[(0,a.Uk)("创建模板")])),_:1},8,["onClick"]),(0,a.Wm)(n,{data:e.templateList},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{prop:"templateName",label:"模板名称",width:"180"}),(0,a.Wm)(s,{prop:"templateContent",label:"模板内容"}),(0,a.Wm)(s,{prop:"createTime",label:"createTime",width:"300"}),(0,a.Wm)(s,{label:"操作",width:"300"},{default:(0,a.w5)((e=>[(0,a.Wm)(p,{onClick:t=>d.editTemplate(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("编辑")])),_:2},1032,["onClick"]),(0,a.Wm)(p,{onClick:t=>d.testTemplate(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("测试")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,a.Wm)(c,{modelValue:e.templateDialogModel,"onUpdate:modelValue":t[2]||(t[2]=t=>e.templateDialogModel=t),onClose:d.closeTemplateDialog,title:e.templateDialogTitle,width:"30%","align-center":"","append-to-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{ref:"templateDetailFormRef",model:e.templateDetailForm},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{label:e.模板名称,prop:"templateName"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.templateDetailForm.templateName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.templateDetailForm.templateName=t),placeholder:"模板名称"},null,8,["modelValue"])])),_:1},8,["label"]),(0,a.Wm)(r,{label:e.模板内容,prop:"templateContent"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.templateDetailForm.templateContent,"onUpdate:modelValue":t[1]||(t[1]=t=>e.templateDetailForm.templateContent=t),type:"textarea",autosize:{minRows:4},placeholder:"输入文本"},null,8,["modelValue"])])),_:1},8,["label"]),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onClick:d.cancelTemplate},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1},8,["onClick"]),(0,a.Wm)(p,{onClick:d.submitTemplate},{default:(0,a.w5)((()=>[(0,a.Uk)("确定")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onClose","title"]),(0,a.Wm)(c,{modelValue:e.templateTestDialogModel,"onUpdate:modelValue":t[3]||(t[3]=t=>e.templateTestDialogModel=t),onClose:d.closeTemplateTestDialog,title:e.templateTestDialogTitle,width:"30%","align-center":"","append-to-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onClick:d.addTemplateField},{default:(0,a.w5)((()=>[(0,a.Uk)("新增")])),_:1},8,["onClick"]),(0,a.Wm)(p,{onClick:d.showTemplateResult},{default:(0,a.w5)((()=>[(0,a.Uk)("查看匹配结果")])),_:1},8,["onClick"]),(0,a.Wm)(n,{data:e.templateFieldsList},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{prop:"fieldName",label:"参数名称",width:"180"}),(0,a.Wm)(s,{prop:"fieldValue",label:"测试赋值",width:"180"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{modelValue:e.row.fieldValue,"onUpdate:modelValue":t=>e.row.fieldValue=t,placeholder:"输入参数值"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,a.Wm)(s,{prop:"id",label:"操作",width:"180"},{default:(0,a.w5)((e=>[(0,a.Wm)(p,{onClick:t=>d.delTemplateField(e.row)},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1},8,["modelValue","onClose","title"]),(0,a.Wm)(c,{modelValue:e.templateFieldDialogModel,"onUpdate:modelValue":t[5]||(t[5]=t=>e.templateFieldDialogModel=t),onClose:d.closeTemplateFieldDialog,title:e.templateFieldDialogTitle,width:"30%","align-center":"","append-to-body":""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{ref:"templateFieldFormRef",model:e.templateFieldForm},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{prop:"fieldName",label:"fieldName",width:"180"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.templateFieldForm.fieldName,"onUpdate:modelValue":t[4]||(t[4]=t=>e.templateFieldForm.fieldName=t),placeholder:"参数名称"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(r,{label:"操作",width:"180"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onClick:d.cancelTemplateField},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1},8,["onClick"]),(0,a.Wm)(p,{onClick:d.submitTemplateField},{default:(0,a.w5)((()=>[(0,a.Uk)("确定")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onClose","title"]),(0,a.Wm)(c,{modelValue:e.templateMatchResultDialogModel,"onUpdate:modelValue":t[6]||(t[6]=t=>e.templateMatchResultDialogModel=t),onClose:d.closetemplateMatchResultDialog,title:e.templateMatchResultDialogTitle,width:"30%","align-center":"","append-to-body":""},{default:(0,a.w5)((()=>[(0,a._)("div",null,(0,i.zw)(e.templateMatchResult),1)])),_:1},8,["modelValue","onClose","title"])],64)}var o=l(1394),d={name:"templateIndex",data:function(){return{templateDialogTitle:"模板编辑",templateDialogModel:!1,templateDetailForm:{templateId:void 0,templateName:"",templateContent:""},templateList:[],templateTestId:"",templateTestDialogModel:!1,templateTestDialogTitle:"模板测试框",templateFieldsList:[],templateFieldDialogModel:!1,templateFieldDialogTitle:"模板参数",templateFieldForm:{fieldName:""},templateMatchResultDialogModel:!1,templateMatchResultDialogTitle:"模板匹配结果",templateMatchResult:""}},created(){this.loadTemplateList()},methods:{createTemplate:function(){this.templateDetailForm.templateId=void 0,this.templateDetailForm.templateName="",this.templateDetailForm.templateContent="",this.templateDialogModel=!0},closeTemplateDialog:function(){this.$refs["templateDetailFormRef"].resetFields()},cancelTemplate:function(){this.templateDialogModel=!1},submitTemplate:function(){this.templateDetailForm.templateId?(0,o.udpTemplate)(this.templateDetailForm).then((e=>{"0000"==e.resCode?(this.templateDialogModel=!1,this.loadTemplateList()):this.$message.error(e.resMsg)})):(0,o.addTemplate)(this.templateDetailForm).then((e=>{"0000"==e.resCode?(this.templateDialogModel=!1,this.loadTemplateList()):this.$message.error(e.resMsg)}))},loadTemplateList:function(){(0,o.templateList)({}).then((e=>{"0000"==e.resCode?this.templateList=e.templateList:this.$message.error(e.resMsg)}))},editTemplate:function(e){this.templateDetailForm.templateId=e.templateId,this.templateDetailForm.templateName=e.templateName,this.templateDetailForm.templateContent=e.templateContent,this.templateDialogModel=!0},testTemplate:function(e){this.templateTestId=e.templateId,this.getTemplateFieldsList(),this.templateTestDialogModel=!0},getTemplateFieldsList(){this.templateFieldForm.templateId=this.templateTestId,(0,o.templateFieldsList)(this.templateFieldForm).then((e=>{if("0000"!=e.resCode)return this.$message.error(e.resMsg),!1;this.templateFieldsList=e.fieldsList}))},addTemplateField:function(e){this.templateFieldDialogModel=!0},showTemplateResult:function(){(0,o.showTemplateResult)({templateId:this.templateTestId,fieldList:this.templateFieldsList}).then((e=>{if("0000"!=e.resCode)return this.$message.error(e.resMsg),!1;this.templateMatchResultDialogModel=!0,this.templateMatchResult=e.result}))},delTemplateField:function(e){},closeTemplateTestDialog:function(){this.templateTestId=void 0,this.templateTestDialogModel=!1},closeTemplateFieldDialog:function(){this.templateFieldDialogModel=!1,this.templateFieldForm.fieldName=""},cancelTemplateField:function(){this.templateFieldDialogModel=!1,this.templateFieldForm.fieldName=""},submitTemplateField:function(){(0,o.templateFieldAdd)(this.templateFieldForm).then((e=>{"0000"==e.resCode?(this.templateFieldDialogModel=!1,this.getTemplateFieldsList()):this.$message.error(e.resMsg)}))},closetemplateMatchResultDialog:function(){this.templateMatchResultDialogModel=!1,this.templateMatchResult=""}}},p=l(89);const s=(0,p.Z)(d,[["render",m]]);var n=s}}]);
//# sourceMappingURL=144.b9b599d2.js.map