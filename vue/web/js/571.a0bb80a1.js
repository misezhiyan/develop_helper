"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[571],{2571:function(e,l,d){d.r(l),d.d(l,{default:function(){return s}});var o=d(3396),a=d(7139);function t(e,l,d,t,m,u){const r=(0,o.up)("el-option"),s=(0,o.up)("el-select"),n=(0,o.up)("el-form-item"),b=(0,o.up)("el-input"),p=(0,o.up)("el-button"),i=(0,o.up)("el-form");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Uk)((0,a.zw)(d.msg)+" ",1),(0,o.Wm)(i,{model:m.dbForm,"label-width:":"120px"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{label:"数据库类型"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{modelValue:m.dbForm.dbType,"onUpdate:modelValue":l[0]||(l[0]=e=>m.dbForm.dbType=e),filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"数据库类型",onChange:l[1]||(l[1]=e=>u.changeDbType())},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.dbTypeOptions,(e=>((0,o.wg)(),(0,o.j4)(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"数据库名称"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:m.dbForm.nickName,"onUpdate:modelValue":l[2]||(l[2]=e=>m.dbForm.nickName=e),placeholder:"数据库名称",style:{width:"225px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"数据库IP"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:m.dbForm.dbIp,"onUpdate:modelValue":l[3]||(l[3]=e=>m.dbForm.dbIp=e),placeholder:"数据库IP",style:{width:"225px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"数据库端口"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:m.dbForm.dbPort,"onUpdate:modelValue":l[4]||(l[4]=e=>m.dbForm.dbPort=e),placeholder:"数据库端口",style:{width:"225px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"数据库默认链接库"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:m.dbForm.defaultConnectDb,"onUpdate:modelValue":l[5]||(l[5]=e=>m.dbForm.defaultConnectDb=e),placeholder:"数据库默认链接库",style:{width:"225px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"数据库驱动类"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:m.dbForm.driverClassName,"onUpdate:modelValue":l[6]||(l[6]=e=>m.dbForm.driverClassName=e),placeholder:"数据库驱动类",style:{width:"225px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"数据库用户名"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:m.dbForm.dbUser,"onUpdate:modelValue":l[7]||(l[7]=e=>m.dbForm.dbUser=e),placeholder:"数据库用户名",style:{width:"225px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"数据库密码"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:m.dbForm.dbPwd,"onUpdate:modelValue":l[8]||(l[8]=e=>m.dbForm.dbPwd=e),placeholder:"数据库密码",style:{width:"225px"}},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{onClick:l[9]||(l[9]=e=>u.testConnect())},{default:(0,o.w5)((()=>[(0,o.Uk)(" 测试链接 ")])),_:1}),(0,o.Wm)(p,{onClick:l[10]||(l[10]=e=>u.submitDbConfig())},{default:(0,o.w5)((()=>[(0,o.Uk)(" 提交 ")])),_:1})])),_:1})])),_:1},8,["model"])])}var m={name:"dbConfig",props:{msg:String},data(){return{dbTypeOptions:[{label:"MYSQL",value:"mysql"},{label:"ORACLE",value:"oracle"}],dbForm:{dbType:"mysql",nickName:"本地",dbIp:"127.0.0.1",dbPort:"3306",defaultConnectDb:"test",driverClassName:"com.mysql.cj.jdbc.Driver",dbUser:"root",dbPwd:"root"}}},methods:{changeDbType:function(){},testConnect:function(){this.develophelperApi.testConnect(this.dbForm).then((e=>{"0000"==e.resCode?this.$message({message:e.resMsg,type:"success"}):this.$message.error(e.resMsg)}))},submitDbConfig:function(){this.develophelperApi.saveconnect(this.dbForm).then((e=>{"0000"==e.resCode?this.$message({message:e.resMsg,type:"success"}):this.$message.error(e.resMsg)})).catch((e=>{this.$message.error("错了哦，这是一条错误消息")}))}}},u=d(89);const r=(0,u.Z)(m,[["render",t]]);var s=r}}]);
//# sourceMappingURL=571.a0bb80a1.js.map